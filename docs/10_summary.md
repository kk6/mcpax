# 要件定義 一覧

## 概要

このドキュメントは、要件定義の成果物を一覧にまとめたものである。

---

## ドキュメント一覧

| # | ドキュメント | ファイル | フェーズ |
|---|-------------|---------|---------|
| 01 | 企画書 | 01_project_charter.md | 準備編 |
| 02 | 全体像 | 02_system_overview.md | 準備編 |
| 03 | 実現したいこと一覧 | 03_requirements_list.md | 準備編 |
| 04 | 行動シナリオ | 04_user_scenarios.md | 助走編 |
| 05 | 概念データモデル | 05_conceptual_data_model.md | 助走編 |
| 06 | UI 定義 | 06_ui_definition.md | 離陸編 |
| 07 | 機能定義 | 07_function_definition.md | 離陸編 |
| 08 | データ定義 | 08_data_definition.md | 離陸編 |
| 09 | CRUD マトリックス | 09_crud_matrix.md | 仕上げ編 |
| 10 | 一覧 | 10_summary.md | 仕上げ編 |
| 11 | アーキテクチャ設計書 | 11_architecture.md | 仕上げ編 |

---

## 要件一覧（実現したいこと）

### 必須要件

| ID | 要件 | 対応シナリオ | 対応機能 |
|----|------|-------------|---------|
| R-001 | 管理対象の一元管理 | S-002, S-003 | F-103, F-104, F-105 |
| R-002 | 一括更新確認 | S-001 | F-501, F-502 |
| R-003 | バージョン・Loader 指定 | S-001, S-005 | F-102, F-204 |
| R-004 | ダウンロード | S-001 | F-301, F-302, F-303 |
| R-005 | 適切なディレクトリへの配置 | S-001 | F-401, F-402 |

### 重要要件

| ID | 要件 | 対応シナリオ | 対応機能 |
|----|------|-------------|---------|
| R-006 | 差分ダウンロード | S-001 | F-405, F-502 |
| R-007 | ハッシュ検証 | S-001 | F-303 |
| R-008 | 更新前のバックアップ | S-001 | F-403 |
| R-009 | プロジェクト検索 | S-006 | F-202 |
| R-010 | 対応状況の確認 | S-004 | F-204, F-405 |

### 任意要件

| ID | 要件 | 対応シナリオ | 対応機能 |
|----|------|-------------|---------|
| R-011 | TUI モード | - | （将来実装） |
| R-012 | 依存関係の自動解決 | - | （将来実装） |
| R-013 | バージョン固定 | S-002 | F-104, F-204 |
| R-014 | リリースチャネル指定 | S-002 | F-104, F-204 |
| R-015 | 複数インスタンス対応 | - | （将来実装） |

---

## シナリオ一覧

| ID | シナリオ | 主要コマンド |
|----|---------|-------------|
| S-001 | 更新確認・インストール | mcpax update, mcpax install |
| S-002 | プロジェクト追加 | mcpax add |
| S-003 | プロジェクト削除 | mcpax remove |
| S-004 | 一覧確認 | mcpax list |
| S-005 | 初期セットアップ | mcpax init |
| S-006 | プロジェクト検索 | mcpax search |

---

## コマンド一覧

| コマンド | 説明 | 主要オプション |
|---------|------|---------------|
| mcpax init | 初期セットアップ | --non-interactive |
| mcpax add \<slug\> | プロジェクト追加 | --version, --channel |
| mcpax remove \<slug\> | プロジェクト削除 | --delete-file, --yes |
| mcpax list | 一覧表示 | --type, --status, --json |
| mcpax search \<query\> | 検索 | --type, --limit |
| mcpax update | 更新確認・適用 | --check, --yes |
| mcpax install | インストール | --all |

---

## 機能一覧

### 設定管理機能（7件）

| ID | 機能名 |
|----|--------|
| F-101 | 設定ファイル生成 |
| F-102 | 設定ファイル読み込み |
| F-103 | プロジェクトリスト生成 |
| F-104 | プロジェクトリスト読み込み |
| F-105 | プロジェクトリスト書き込み |
| F-106 | パス解決 |
| F-107 | 設定バリデーション |

### Modrinth API 連携機能（6件）

| ID | 機能名 |
|----|--------|
| F-201 | プロジェクト情報取得 |
| F-202 | プロジェクト検索 |
| F-203 | バージョン一覧取得 |
| F-204 | 対応バージョン抽出 |
| F-205 | レートリミット制御 |
| F-206 | リトライ処理 |

### ダウンロード機能（4件）

| ID | 機能名 |
|----|--------|
| F-301 | ファイルダウンロード |
| F-302 | 並列ダウンロード |
| F-303 | ハッシュ検証 |
| F-304 | 進捗表示 |

### ファイル管理機能（6件）

| ID | 機能名 |
|----|--------|
| F-401 | ディレクトリ判定 |
| F-402 | ファイル配置 |
| F-403 | ファイルバックアップ |
| F-404 | ファイル削除 |
| F-405 | インストール状態確認 |
| F-406 | インストールファイル特定 |

### 更新管理機能（3件）

| ID | 機能名 |
|----|--------|
| F-501 | 更新確認 |
| F-502 | バージョン比較 |
| F-503 | 更新適用 |

---

## データ一覧

### ローカルデータ

| エンティティ | 永続化先 |
|-------------|---------|
| AppConfig | config.toml |
| ProjectConfig | projects.toml |
| InstalledFile | .mcpax-state.json |

### Modrinth API データ

| エンティティ | 取得元 |
|-------------|--------|
| ModrinthProject | GET /project/{slug} |
| ProjectVersion | GET /project/{slug}/version |
| ProjectFile | ProjectVersion.files |
| SearchResult | GET /search |

### 内部データ

| エンティティ | 用途 |
|-------------|------|
| UpdateCheckResult | 更新確認結果 |
| DownloadTask | ダウンロードタスク |
| DownloadResult | ダウンロード結果 |

---

## 列挙型一覧

| 列挙型 | 値 |
|-------|-----|
| Loader | fabric, forge, neoforge, quilt |
| ProjectType | mod, shader, resourcepack |
| ReleaseChannel | release, beta, alpha |
| InstallStatus | not_installed, installed, outdated, not_compatible |

---

## 非機能要件一覧

### パフォーマンス

| ID | 要件 | 目標値 |
|----|------|--------|
| NF-001 | API レスポンス | 1 リクエストあたり 3 秒以内 |
| NF-002 | 並列ダウンロード | 最大 5 並列 |
| NF-003 | レートリミット遵守 | 300 req/min |

### 信頼性

| ID | 要件 |
|----|------|
| NF-010 | エラーハンドリング |
| NF-011 | リトライ処理 |
| NF-012 | ハッシュ検証 |

### 保守性

| ID | 要件 |
|----|------|
| NF-020 | モジュール分離（core / CLI / TUI） |
| NF-021 | 型ヒント |
| NF-022 | ユニットテスト |

### 互換性

| ID | 要件 |
|----|------|
| NF-030 | Python 3.13 以上 |
| NF-031 | macOS, Linux, Windows |

---

## 技術スタック

| カテゴリ | 技術 |
|---------|------|
| 言語 | Python 3.13+ |
| パッケージ管理 | uv |
| 型チェック | ty |
| リンター | ruff |
| テスト | pytest, pytest-asyncio, pytest-httpx |
| HTTP クライアント | httpx |
| CLI フレームワーク | typer |
| TUI フレームワーク | textual（将来） |
| 出力装飾 | rich |
| TOML 処理 | tomllib (stdlib), tomlkit |
| バリデーション | pydantic |

---

## 開発フェーズ

| フェーズ | 内容 | 見積もり |
|---------|------|---------|
| Phase 1 | Core 実装 | 2-3 日 |
| Phase 2 | CLI 実装 | 1-2 日 |
| Phase 3 | TUI 実装 | 将来 |

---

## スコープ外

| ID | 内容 |
|----|------|
| X-001 | Minecraft の起動（ランチャー機能） |
| X-002 | CurseForge 対応 |
| X-003 | MOD の設定管理（config/） |
| X-004 | ワールドデータの管理（saves/） |
