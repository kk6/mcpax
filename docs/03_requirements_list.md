# 実現したいこと一覧

## 概要

このドキュメントは、mcpax で実現したいことを文書化したものである。
要件定義に入る前に整理しておくことで、開発中の方針ブレを防ぐ。

---

## 必須（これがないと意味がない）

### R-001: 管理対象の一元管理

TOML ファイルで MOD・shader・リソースパックの管理対象を定義できる。

**理由**: 30個のプロジェクトを覚えておくのは無理。ファイルで管理したい。

### R-002: 一括更新確認

コマンド一発で、全ての管理対象について更新があるか確認できる。

**理由**: これが最も面倒な作業。1つずつ Modrinth サイトで確認する手間を省きたい。

### R-003: バージョン・Loader 指定

Minecraft バージョンと Loader（Fabric）を指定して、対応するファイルを取得できる。

**理由**: バージョンアップ時に「このバージョンに対応しているか」を確認するのが主な用途。

### R-004: ダウンロード

更新があるプロジェクトのファイルをダウンロードできる。

**理由**: 更新確認だけでなく、実際にダウンロードまでできないと結局手動作業が残る。

### R-005: 適切なディレクトリへの配置

MOD は `mods/`、shader は `shaderpacks/`、リソースパックは `resourcepacks/` に配置される。

**理由**: 種類によって配置先が異なる。自動で振り分けてほしい。

---

## 重要（あると嬉しい）

### R-006: 差分ダウンロード

変更があったプロジェクトのみダウンロードする（既にインストール済みのものはスキップ）。

**理由**: 毎回全部ダウンロードするのは時間がかかる。

### R-007: ハッシュ検証

ダウンロードしたファイルの整合性をハッシュで検証できる。

**理由**: 破損したファイルを使いたくない。

### R-008: 更新前のバックアップ

更新時に、古いファイルをバックアップしてから新しいファイルに置き換える。

**理由**: 新しいバージョンに問題があった場合に戻せるようにしたい。

### R-009: プロジェクト検索

Modrinth でプロジェクトを検索して、管理対象に追加できる。

**理由**: slug を調べるのが面倒。ツール内で検索できると便利。

### R-010: 対応状況の確認

指定した Minecraft バージョンに対応していないプロジェクトを一覧表示できる。

**理由**: バージョンアップ時に「どの MOD が対応待ちか」を把握したい。

---

## あれば便利（優先度低）

### R-011: TUI モード

対話的に操作できる TUI（Terminal User Interface）を提供する。

**理由**: 複数のプロジェクトを選択してインストールするなど、対話的な操作がしたい場面もある。

### R-012: 依存関係の自動解決

MOD の依存関係（例: Fabric API）を自動で解決してダウンロードする。

**理由**: 依存 MOD を忘れて起動エラーになることがある。

### R-013: バージョン固定

特定のプロジェクトを特定のバージョンに固定できる。

**理由**: 最新版に問題がある場合、古いバージョンを使い続けたい。

### R-014: リリースチャネル指定

release / beta / alpha を選択できる。

**理由**: 基本は release だが、特定のプロジェクトだけ beta を使いたい場合がある。

### R-015: 複数インスタンス対応

複数の Minecraft インスタンス（プロファイル）を管理できる。

**理由**: バニラ用、MOD 用など、複数の環境を使い分けている。

---

## やらないこと

### X-001: Minecraft の起動

このツールは MOD 管理に特化する。ランチャー機能は提供しない。

### X-002: CurseForge 対応

Modrinth のみを対象とする。CurseForge は API の制約が厳しいため対象外。

### X-003: MOD の設定管理

MOD の設定ファイル（config/）の管理は行わない。

### X-004: ワールドデータの管理

saves/ ディレクトリの管理は行わない。

---

## 非機能要件

### パフォーマンス

| ID | 要件 | 目標値 |
|----|------|--------|
| NF-001 | API レスポンス | 1 リクエストあたり 3 秒以内 |
| NF-002 | 並列ダウンロード | 最大 5 並列でダウンロード |
| NF-003 | レートリミット遵守 | Modrinth API の制限（300 req/min）を遵守 |

### 信頼性

| ID | 要件 | 説明 |
|----|------|------|
| NF-010 | エラーハンドリング | API エラー、ネットワークエラーを適切に処理 |
| NF-011 | リトライ | 一時的なエラー時は自動リトライ |
| NF-012 | 整合性チェック | ダウンロードファイルのハッシュ検証 |

### 保守性

| ID | 要件 | 説明 |
|----|------|------|
| NF-020 | モジュール分離 | core / CLI / TUI を明確に分離 |
| NF-021 | 型ヒント | 全てのコードに型ヒントを付与 |
| NF-022 | テスト | 主要機能のユニットテストを作成 |

### 互換性

| ID | 要件 | 説明 |
|----|------|------|
| NF-030 | Python バージョン | Python 3.13 以上 |
| NF-031 | OS | macOS, Linux, Windows |

---

## 用語定義

| 用語 | 定義 |
|------|------|
| Project | Modrinth における MOD やリソースパック等のコンテンツ |
| MOD | Minecraft の拡張機能 |
| Shader | シェーダーパック（Iris 等で使用） |
| Resource Pack | リソースパック（テクスチャ等） |
| Loader | MOD を読み込む基盤（Fabric, Forge, NeoForge 等） |
| slug | Modrinth 上のプロジェクト識別子（URL に使われる短い名前） |
| Version | Project の特定リリース（ファイルを含む） |
